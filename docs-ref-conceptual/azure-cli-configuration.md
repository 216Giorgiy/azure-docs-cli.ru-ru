---
title: Варианты настройки Azure CLI
description: Как настроить Azure CLI 2.0
keywords: Azure CLI, configuration, settings, Azure
author: sptramer
ms.author: sttramer
manager: routlaw
ms.date: 12/13/2017
ms.topic: article
ms.prod: azure
ms.technology: azure
ms.devlang: azurecli
ms.service: multiple
ms.openlocfilehash: 6970844bf9eba5ccf18b7603115de629e995f2c4
ms.sourcegitcommit: f57b5666523ef3642bee644eb0e0fe7085b3194a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/23/2018
---
# <a name="azure-cli-20-configuration"></a><span data-ttu-id="8aefb-104">Настройка Azure CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="8aefb-104">Azure CLI 2.0 configuration</span></span>

<span data-ttu-id="8aefb-105">Azure CLI 2.0 позволяет применять пользовательскую конфигурацию, чтобы переопределить внутренние параметры, такие как ведение журнала и сбор данных, а также предоставляет параметры по умолчанию для некоторых обязательных параметров.</span><span class="sxs-lookup"><span data-stu-id="8aefb-105">The Azure CLI 2.0 allows for user configuration to override internal settings such as logging and data collection, and provide default options for some required parameters.</span></span> <span data-ttu-id="8aefb-106">Для управления некоторыми из этих значений в CLI доступна удобная команда `az configure`. Другие значения можно задать в файле конфигурации или с помощью переменных среды.</span><span class="sxs-lookup"><span data-stu-id="8aefb-106">The CLI offers a convenience command for managing some of these values, `az configure`, and other values can be set in a configuration file or with environment variables.</span></span>

<span data-ttu-id="8aefb-107">Значения конфигурации, используемые CLI, будут вычисляются в следующем порядке: элементы, расположенные выше в списке, имеют больший приоритет.</span><span class="sxs-lookup"><span data-stu-id="8aefb-107">Configuration values used by the CLI are evaluted in the following precedence, with items higher on the list taking priority.</span></span>

1. <span data-ttu-id="8aefb-108">Параметры командной строки</span><span class="sxs-lookup"><span data-stu-id="8aefb-108">Command-line parameters</span></span>
2. <span data-ttu-id="8aefb-109">Переменные среды</span><span class="sxs-lookup"><span data-stu-id="8aefb-109">Environment variables</span></span>
3. <span data-ttu-id="8aefb-110">Значения, содержащиеся в файле конфигурации или заданные с помощью команды `az configure`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-110">Values in the configuration file or set with `az configure`</span></span>

## <a name="cli-configuration-with-az-configure"></a><span data-ttu-id="8aefb-111">Настройка CLI с использованием команды az configure</span><span class="sxs-lookup"><span data-stu-id="8aefb-111">CLI configuration with az configure</span></span>

<span data-ttu-id="8aefb-112">Задать значения по умолчанию для CLI можно с помощью команды [az configure](/cli/azure/reference-index#az_configure).</span><span class="sxs-lookup"><span data-stu-id="8aefb-112">You set defaults for the CLI with the [az configure](/cli/azure/reference-index#az_configure) command.</span></span>
<span data-ttu-id="8aefb-113">Эта команда принимает один аргумент `--defaults`, который является разделенным пробелами списком пар `key=value`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-113">This command takes one argument, `--defaults`, which is a space-separated list of `key=value` pairs.</span></span> <span data-ttu-id="8aefb-114">Предоставленные значения используются CLI вместо обязательных аргументов.</span><span class="sxs-lookup"><span data-stu-id="8aefb-114">The provded values are used by the CLI in place of required arguments.</span></span>

<span data-ttu-id="8aefb-115">Ниже приведен список доступных параметров, которые можно использовать.</span><span class="sxs-lookup"><span data-stu-id="8aefb-115">The following is a list of available keys that you can use.</span></span>

| <span data-ttu-id="8aefb-116">ИМЯ</span><span class="sxs-lookup"><span data-stu-id="8aefb-116">Name</span></span> | <span data-ttu-id="8aefb-117">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="8aefb-117">Description</span></span> |
|------|-------------|
| <span data-ttu-id="8aefb-118">group</span><span class="sxs-lookup"><span data-stu-id="8aefb-118">group</span></span> | <span data-ttu-id="8aefb-119">Группа ресурсов по умолчанию для всех команд.</span><span class="sxs-lookup"><span data-stu-id="8aefb-119">The default resource group to use for all commands.</span></span> |
| <span data-ttu-id="8aefb-120">location</span><span class="sxs-lookup"><span data-stu-id="8aefb-120">location</span></span> | <span data-ttu-id="8aefb-121">Расположение по умолчанию для всех команд.</span><span class="sxs-lookup"><span data-stu-id="8aefb-121">The default location to use for all commands.</span></span> |
| <span data-ttu-id="8aefb-122">web</span><span class="sxs-lookup"><span data-stu-id="8aefb-122">web</span></span> | <span data-ttu-id="8aefb-123">Имя приложения по умолчанию для команд `az webapp`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-123">The default app name to use for `az webapp` commands.</span></span> |
| <span data-ttu-id="8aefb-124">vm</span><span class="sxs-lookup"><span data-stu-id="8aefb-124">vm</span></span> | <span data-ttu-id="8aefb-125">Имя виртуальной машины по умолчанию для команд `az vm`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-125">The default VM name to use for `az vm` commands.</span></span> |
| <span data-ttu-id="8aefb-126">vmss</span><span class="sxs-lookup"><span data-stu-id="8aefb-126">vmss</span></span> | <span data-ttu-id="8aefb-127">Имя VMSS по умолчанию для команд `az vmss`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-127">The default VMSS name to use for  `az vmss` commands.</span></span> |
| <span data-ttu-id="8aefb-128">acr</span><span class="sxs-lookup"><span data-stu-id="8aefb-128">acr</span></span> | <span data-ttu-id="8aefb-129">Имя реестра контейнеров по умолчанию для `az acr` команд.</span><span class="sxs-lookup"><span data-stu-id="8aefb-129">The default container registry name to use for `az acr` commands.</span></span> |
| <span data-ttu-id="8aefb-130">acs</span><span class="sxs-lookup"><span data-stu-id="8aefb-130">acs</span></span> | <span data-ttu-id="8aefb-131">Имя службы контейнеров по умолчанию для `az acs` команд.</span><span class="sxs-lookup"><span data-stu-id="8aefb-131">The default container service name to use for `az acs` commands.</span></span> |

<span data-ttu-id="8aefb-132">Вот пример того, как можно задать группу ресурсов и расположение по умолчанию для всех команд:</span><span class="sxs-lookup"><span data-stu-id="8aefb-132">As an example, here's how you would set the default resource group and location for all commands.</span></span>

```azurecli
az configure --defaults location=westus2 group=MyResourceGroup
```

## <a name="cli-configuration-file"></a><span data-ttu-id="8aefb-133">Файл конфигурации CLI</span><span class="sxs-lookup"><span data-stu-id="8aefb-133">CLI configuration file</span></span>

<span data-ttu-id="8aefb-134">Файл конфигурации CLI содержит другие параметры, которые используются для управления поведением CLI.</span><span class="sxs-lookup"><span data-stu-id="8aefb-134">The CLI configuration file contains other settings that are used for managing CLI behavior.</span></span> <span data-ttu-id="8aefb-135">Файл конфигурации расположен здесь: `$AZURE_CONFIG_DIR/config`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-135">The configuration file itself is located at `$AZURE_CONFIG_DIR/config`.</span></span> <span data-ttu-id="8aefb-136">По умолчанию для `AZURE_CONFIG_DIR` устанавливается значение `$HOME/.azure` в Linux и macOS и `%USERPROFILE%\.azure` в Windows.</span><span class="sxs-lookup"><span data-stu-id="8aefb-136">The default value of `AZURE_CONFIG_DIR` is `$HOME/.azure` on Linux and macOS, and `%USERPROFILE%\.azure` on Windows.</span></span>

<span data-ttu-id="8aefb-137">Файлы конфигурации записываются в формате INI.</span><span class="sxs-lookup"><span data-stu-id="8aefb-137">Configuration files are written in the INI file format.</span></span> <span data-ttu-id="8aefb-138">Эти файлы состоят из разделов, которые начинаются с заголовка `[section-name]` и списка записей `key=value`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-138">These files are made up of sections which start with a `[section-name]` header, followed by a list of `key=value` entries.</span></span> <span data-ttu-id="8aefb-139">Имена разделов зависят от регистра, а сами параметры — нет.</span><span class="sxs-lookup"><span data-stu-id="8aefb-139">Section names are case-sensitive and key names are not.</span></span>
<span data-ttu-id="8aefb-140">Комментарии — это любая строка, начинающаяся с `#` или `;`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-140">Comments are any line that begins with a `#` or `;`.</span></span> <span data-ttu-id="8aefb-141">Встроенные комментарии не допускаются.</span><span class="sxs-lookup"><span data-stu-id="8aefb-141">Inline comments are not allowed.</span></span> <span data-ttu-id="8aefb-142">Логические операторы не зависят от регистра и представлены следующими значениями:</span><span class="sxs-lookup"><span data-stu-id="8aefb-142">Booleans are case-insensitive, and are represented by the following values.</span></span>

* <span data-ttu-id="8aefb-143">__истина__: 1, yes, true, on;</span><span class="sxs-lookup"><span data-stu-id="8aefb-143">__True__: 1, yes, true, on</span></span>
* <span data-ttu-id="8aefb-144">__ложь__: 0, no, false, off.</span><span class="sxs-lookup"><span data-stu-id="8aefb-144">__False__: 0, no, false, off</span></span>

<span data-ttu-id="8aefb-145">Ниже приведен пример файла конфигурации CLI, который отключает все запросы на подтверждение и настраивает для ведения журнала каталог `/var/log/azure`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-145">Here's an example of a CLI configuration file which disables any confirmation prompts and sets up logging to the `/var/log/azure` directory.</span></span>

```
[core]
disable_confirm_prompt=Yes

[logging]
enable_log_file=yes
log_dir=/var/log/azure
```

<span data-ttu-id="8aefb-146">Сведения обо всех доступных значениях параметров конфигурации и их описание см. в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="8aefb-146">See the next section for details on all of the available configuration values and what they mean.</span></span> <span data-ttu-id="8aefb-147">Дополнительные сведения о формате INI см. в [документации Python по файлам INI](https://docs.python.org/3/library/configparser.html#supported-ini-file-structure).</span><span class="sxs-lookup"><span data-stu-id="8aefb-147">For the full details on the INI file format, see the [Python documentation on INI](https://docs.python.org/3/library/configparser.html#supported-ini-file-structure).</span></span>

## <a name="cli-configuration-values-and-environment-variables"></a><span data-ttu-id="8aefb-148">Переменные среды и значения конфигурации CLI</span><span class="sxs-lookup"><span data-stu-id="8aefb-148">CLI configuration values and environment variables</span></span>

<span data-ttu-id="8aefb-149">Следующая таблица содержит все разделы и имена параметров, которые могут быть включены в файл конфигурации.</span><span class="sxs-lookup"><span data-stu-id="8aefb-149">The following table contains all of the sections and option names that can be placed in a configuration file.</span></span> <span data-ttu-id="8aefb-150">Соответствующие им переменные среды можно задать в качестве `AZURE_{section}_{name}` (прописными буквами).</span><span class="sxs-lookup"><span data-stu-id="8aefb-150">Their corresponding environment variables can be set as `AZURE_{section}_{name}`, in all caps.</span></span> <span data-ttu-id="8aefb-151">Например, вы можете задать значение `storage_account` для раздела `batchai` по умолчанию в переменной `AZURE_BATCHAI_STORAGE_ACCOUNT`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-151">For example, you can set the `batchai` section's `storage_account` default in the `AZURE_BATCHAI_STORAGE_ACCOUNT` variable.</span></span>

<span data-ttu-id="8aefb-152">Любое доступное значение, которое может быть значением по умолчанию, не всегда должно присутствовать в аргументах командной строки, даже если оно является обязательным.</span><span class="sxs-lookup"><span data-stu-id="8aefb-152">Any value with a default available does not have to be present in the command line arguments, even if it is required.</span></span>

| <span data-ttu-id="8aefb-153">Раздел</span><span class="sxs-lookup"><span data-stu-id="8aefb-153">Section</span></span> | <span data-ttu-id="8aefb-154">ИМЯ</span><span class="sxs-lookup"><span data-stu-id="8aefb-154">Name</span></span>      | <span data-ttu-id="8aefb-155">type</span><span class="sxs-lookup"><span data-stu-id="8aefb-155">Type</span></span> | <span data-ttu-id="8aefb-156">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="8aefb-156">Description</span></span>|
|---------|-----------|------|------------|
| <span data-ttu-id="8aefb-157">__core__</span><span class="sxs-lookup"><span data-stu-id="8aefb-157">__core__</span></span> | <span data-ttu-id="8aefb-158">output</span><span class="sxs-lookup"><span data-stu-id="8aefb-158">output</span></span> | <span data-ttu-id="8aefb-159">строка</span><span class="sxs-lookup"><span data-stu-id="8aefb-159">string</span></span> | <span data-ttu-id="8aefb-160">Формат вывода по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="8aefb-160">The default output format.</span></span> <span data-ttu-id="8aefb-161">Может иметь значение `json`, `jsonc`, `tsv` или `table`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-161">Can be one of `json`, `jsonc`, `tsv`, or `table`.</span></span> |
| | <span data-ttu-id="8aefb-162">disable\_confirm\_prompt</span><span class="sxs-lookup"><span data-stu-id="8aefb-162">disable\_confirm\_prompt</span></span> | <span data-ttu-id="8aefb-163">Логическое</span><span class="sxs-lookup"><span data-stu-id="8aefb-163">boolean</span></span> | <span data-ttu-id="8aefb-164">Включает и отключает запросы на подтверждение.</span><span class="sxs-lookup"><span data-stu-id="8aefb-164">Turn confirmation prompts on/off.</span></span> |
| | <span data-ttu-id="8aefb-165">collect\_telemetry</span><span class="sxs-lookup"><span data-stu-id="8aefb-165">collect\_telemetry</span></span> | <span data-ttu-id="8aefb-166">Логическое</span><span class="sxs-lookup"><span data-stu-id="8aefb-166">boolean</span></span> | <span data-ttu-id="8aefb-167">Разрешает корпорации Майкрософт собирать анонимные данные об использовании CLI.</span><span class="sxs-lookup"><span data-stu-id="8aefb-167">Allow Microsoft to collect anonymous data on the usage of the CLI.</span></span> <span data-ttu-id="8aefb-168">Сведения о конфиденциальности см. в описании [условий использования Azure CLI 2.0](http://aka.ms/AzureCliLegal).</span><span class="sxs-lookup"><span data-stu-id="8aefb-168">For privacy information, see the [Azure CLI 2.0 Terms of Use](http://aka.ms/AzureCliLegal).</span></span> |
| <span data-ttu-id="8aefb-169">__logging__</span><span class="sxs-lookup"><span data-stu-id="8aefb-169">__logging__</span></span> | <span data-ttu-id="8aefb-170">enable\_log\_file</span><span class="sxs-lookup"><span data-stu-id="8aefb-170">enable\_log\_file</span></span> | <span data-ttu-id="8aefb-171">Логическое</span><span class="sxs-lookup"><span data-stu-id="8aefb-171">boolean</span></span> | <span data-ttu-id="8aefb-172">Включение и отключение ведения журнала.</span><span class="sxs-lookup"><span data-stu-id="8aefb-172">Turn logging on/off.</span></span> |
| | <span data-ttu-id="8aefb-173">log\_dir</span><span class="sxs-lookup"><span data-stu-id="8aefb-173">log\_dir</span></span> | <span data-ttu-id="8aefb-174">строка</span><span class="sxs-lookup"><span data-stu-id="8aefb-174">string</span></span> | <span data-ttu-id="8aefb-175">Каталог для записи журналов.</span><span class="sxs-lookup"><span data-stu-id="8aefb-175">The directory to write logs to.</span></span> <span data-ttu-id="8aefb-176">По умолчанию это `${AZURE_CONFIG_DIR}/logs`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-176">By default this is `${AZURE_CONFIG_DIR}/logs`.</span></span> |
| <span data-ttu-id="8aefb-177">__storage__</span><span class="sxs-lookup"><span data-stu-id="8aefb-177">__storage__</span></span> | <span data-ttu-id="8aefb-178">connection\_string</span><span class="sxs-lookup"><span data-stu-id="8aefb-178">connection\_string</span></span> | <span data-ttu-id="8aefb-179">строка</span><span class="sxs-lookup"><span data-stu-id="8aefb-179">string</span></span> | <span data-ttu-id="8aefb-180">Строка подключения по умолчанию для команд `az storage`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-180">The default connection string to use for `az storage` commands.</span></span> |
| | <span data-ttu-id="8aefb-181">учетная запись</span><span class="sxs-lookup"><span data-stu-id="8aefb-181">account</span></span> | <span data-ttu-id="8aefb-182">строка</span><span class="sxs-lookup"><span data-stu-id="8aefb-182">string</span></span> | <span data-ttu-id="8aefb-183">Имя учетной записи по умолчанию для команд `az storage`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-183">The default account name to use for `az storage` commands.</span></span> |
| | <span data-ttu-id="8aefb-184">key</span><span class="sxs-lookup"><span data-stu-id="8aefb-184">key</span></span> | <span data-ttu-id="8aefb-185">строка</span><span class="sxs-lookup"><span data-stu-id="8aefb-185">string</span></span> | <span data-ttu-id="8aefb-186">Ключ учетной записи по умолчанию для команд `az storage`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-186">The default account key to use for `az storage` commands.</span></span> |
| | <span data-ttu-id="8aefb-187">sas\_token</span><span class="sxs-lookup"><span data-stu-id="8aefb-187">sas\_token</span></span> | <span data-ttu-id="8aefb-188">строка</span><span class="sxs-lookup"><span data-stu-id="8aefb-188">string</span></span> | <span data-ttu-id="8aefb-189">Токен SAS по умолчанию для команд `az storage`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-189">The default SAS token to use for `az storage` commands.</span></span> |
| <span data-ttu-id="8aefb-190">__batchai__</span><span class="sxs-lookup"><span data-stu-id="8aefb-190">__batchai__</span></span> | <span data-ttu-id="8aefb-191">storage\_account</span><span class="sxs-lookup"><span data-stu-id="8aefb-191">storage\_account</span></span> | <span data-ttu-id="8aefb-192">строка</span><span class="sxs-lookup"><span data-stu-id="8aefb-192">string</span></span> | <span data-ttu-id="8aefb-193">Учетная запись хранения по умолчанию для команд `az batchai`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-193">The default storage account to use for `az batchai` commands.</span></span> |
| | <span data-ttu-id="8aefb-194">storage\_key</span><span class="sxs-lookup"><span data-stu-id="8aefb-194">storage\_key</span></span> | <span data-ttu-id="8aefb-195">строка</span><span class="sxs-lookup"><span data-stu-id="8aefb-195">string</span></span> | <span data-ttu-id="8aefb-196">Ключ к хранилищу данных по умолчанию для команд `az batchai`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-196">The default storage key to use for `az batchai` commands.</span></span> |
| <span data-ttu-id="8aefb-197">__batch__</span><span class="sxs-lookup"><span data-stu-id="8aefb-197">__batch__</span></span> | <span data-ttu-id="8aefb-198">учетная запись</span><span class="sxs-lookup"><span data-stu-id="8aefb-198">account</span></span> | <span data-ttu-id="8aefb-199">строка</span><span class="sxs-lookup"><span data-stu-id="8aefb-199">string</span></span> | <span data-ttu-id="8aefb-200">Учетная запись пакетной службы по умолчанию для команд `az batch`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-200">The default Azure Batch account name to use for `az batch` commands.</span></span> |
| | <span data-ttu-id="8aefb-201">access\_key</span><span class="sxs-lookup"><span data-stu-id="8aefb-201">access\_key</span></span> | <span data-ttu-id="8aefb-202">строка</span><span class="sxs-lookup"><span data-stu-id="8aefb-202">string</span></span> | <span data-ttu-id="8aefb-203">Ключ доступа по умолчанию для команд `az batch`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-203">The default access key to use for `az batch` commands.</span></span> <span data-ttu-id="8aefb-204">Используется только с авторизацией `aad`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-204">Only used with `aad` authorization.</span></span> |
| | <span data-ttu-id="8aefb-205">endpoint</span><span class="sxs-lookup"><span data-stu-id="8aefb-205">endpoint</span></span> | <span data-ttu-id="8aefb-206">строка</span><span class="sxs-lookup"><span data-stu-id="8aefb-206">string</span></span> | <span data-ttu-id="8aefb-207">Конечная точка по умолчанию для подключения для команд `az batch`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-207">The default endpoint to connect to for `az batch` commands.</span></span> |
| | <span data-ttu-id="8aefb-208">auth\_mode</span><span class="sxs-lookup"><span data-stu-id="8aefb-208">auth\_mode</span></span> | <span data-ttu-id="8aefb-209">строка</span><span class="sxs-lookup"><span data-stu-id="8aefb-209">string</span></span> | <span data-ttu-id="8aefb-210">Режим авторизации для команд `az batch`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-210">The authorization mode to use for `az batch` commands.</span></span> <span data-ttu-id="8aefb-211">Может иметь значение `shared_key` или `aad`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-211">Can be `shared_key` or `aad`.</span></span> |

> [!NOTE]
> <span data-ttu-id="8aefb-212">В файле конфигурации могут быть и другие значения, но управление ими осуществляется непосредственно с помощью команд CLI, включая `az configure`.</span><span class="sxs-lookup"><span data-stu-id="8aefb-212">You may see other values in your configuration file, but these are managed directly through CLI commands, including `az configure`.</span></span> <span data-ttu-id="8aefb-213">Самостоятельно изменить можно только значения, перечисленные в таблице выше.</span><span class="sxs-lookup"><span data-stu-id="8aefb-213">The ones listed in the table above are the only values you should change yourself.</span></span>
