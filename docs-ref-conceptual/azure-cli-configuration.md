---
title: Варианты настройки Azure CLI
description: Как настроить Azure CLI 2.0
keywords: Azure CLI, configuration, settings, Azure
author: sptramer
ms.author: sttramer
manager: carmonm
ms.date: 05/16/2018
ms.topic: conceptual
ms.prod: azure
ms.technology: azure-cli
ms.devlang: azure-cli
ms.openlocfilehash: 75ea347b0d4d018142a26bf985ee3639f2b79924
ms.sourcegitcommit: 0e688704889fc88b91588bb6678a933c2d54f020
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/11/2018
ms.locfileid: "44388598"
---
# <a name="azure-cli-20-configuration"></a><span data-ttu-id="e2de5-104">Настройка Azure CLI 2.0</span><span class="sxs-lookup"><span data-stu-id="e2de5-104">Azure CLI 2.0 configuration</span></span>

<span data-ttu-id="e2de5-105">Azure CLI 2.0 позволяет пользователям настраивать различные параметры, например для ведения журналов и сбора данных, а также значения аргументов по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e2de5-105">The Azure CLI 2.0 allows for user configuration for settings such as logging, data collection, and default argument values.</span></span>
<span data-ttu-id="e2de5-106">Интерфейс командной строки содержит удобную команду для управления некоторыми значениями по умолчанию — `az configure`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-106">The CLI offers a convenience command for managing some defaults, `az configure`.</span></span> <span data-ttu-id="e2de5-107">Другие значения можно указать в файле конфигурации или с помощью переменных среды.</span><span class="sxs-lookup"><span data-stu-id="e2de5-107">Other values can be set in a configuration file or with environment variables.</span></span>

<span data-ttu-id="e2de5-108">Значения конфигурации, используемые CLI, вычисляются в указанном ниже порядке. Элементы, расположенные выше в списке, имеют больший приоритет.</span><span class="sxs-lookup"><span data-stu-id="e2de5-108">Configuration values used by the CLI are evaluated in the following precedence, with items higher on the list taking priority.</span></span>

1. <span data-ttu-id="e2de5-109">Параметры командной строки</span><span class="sxs-lookup"><span data-stu-id="e2de5-109">Command-line parameters</span></span>
2. <span data-ttu-id="e2de5-110">Переменные среды</span><span class="sxs-lookup"><span data-stu-id="e2de5-110">Environment variables</span></span>
3. <span data-ttu-id="e2de5-111">Значения, содержащиеся в файле конфигурации или заданные с помощью команды `az configure`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-111">Values in the configuration file or set with `az configure`</span></span>

## <a name="cli-configuration-with-az-configure"></a><span data-ttu-id="e2de5-112">Настройка CLI с использованием команды az configure</span><span class="sxs-lookup"><span data-stu-id="e2de5-112">CLI configuration with az configure</span></span>

<span data-ttu-id="e2de5-113">Задать значения по умолчанию для CLI можно с помощью команды [az configure](/cli/azure/reference-index#az-configure).</span><span class="sxs-lookup"><span data-stu-id="e2de5-113">You set defaults for the CLI with the [az configure](/cli/azure/reference-index#az-configure) command.</span></span>
<span data-ttu-id="e2de5-114">Эта команда принимает один аргумент `--defaults`, который является разделенным пробелами списком пар `key=value`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-114">This command takes one argument, `--defaults`, which is a space-separated list of `key=value` pairs.</span></span> <span data-ttu-id="e2de5-115">Предоставленные значения используются в CLI вместо обязательных аргументов.</span><span class="sxs-lookup"><span data-stu-id="e2de5-115">The provided values are used by the CLI in place of required arguments.</span></span>

<span data-ttu-id="e2de5-116">Следующая таблица содержит список доступных ключей конфигурации.</span><span class="sxs-lookup"><span data-stu-id="e2de5-116">The following table contains a list of available configuration keys.</span></span>

| <span data-ttu-id="e2de5-117">ИМЯ</span><span class="sxs-lookup"><span data-stu-id="e2de5-117">Name</span></span> | <span data-ttu-id="e2de5-118">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="e2de5-118">Description</span></span> |
|------|-------------|
| <span data-ttu-id="e2de5-119">group</span><span class="sxs-lookup"><span data-stu-id="e2de5-119">group</span></span> | <span data-ttu-id="e2de5-120">Группа ресурсов по умолчанию для всех команд.</span><span class="sxs-lookup"><span data-stu-id="e2de5-120">The default resource group to use for all commands.</span></span> |
| <span data-ttu-id="e2de5-121">location</span><span class="sxs-lookup"><span data-stu-id="e2de5-121">location</span></span> | <span data-ttu-id="e2de5-122">Расположение по умолчанию для всех команд.</span><span class="sxs-lookup"><span data-stu-id="e2de5-122">The default location to use for all commands.</span></span> |
| <span data-ttu-id="e2de5-123">web</span><span class="sxs-lookup"><span data-stu-id="e2de5-123">web</span></span> | <span data-ttu-id="e2de5-124">Имя приложения по умолчанию для команд `az webapp`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-124">The default app name to use for `az webapp` commands.</span></span> |
| <span data-ttu-id="e2de5-125">vm</span><span class="sxs-lookup"><span data-stu-id="e2de5-125">vm</span></span> | <span data-ttu-id="e2de5-126">Имя виртуальной машины по умолчанию для команд `az vm`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-126">The default VM name to use for `az vm` commands.</span></span> |
| <span data-ttu-id="e2de5-127">vmss</span><span class="sxs-lookup"><span data-stu-id="e2de5-127">vmss</span></span> | <span data-ttu-id="e2de5-128">Имя масштабируемого набора виртуальных машин (VMSS) по умолчанию, используемое в командах `az vmss`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-128">The default virtual machine scale set (VMSS) name to use for  `az vmss` commands.</span></span> |
| <span data-ttu-id="e2de5-129">acr</span><span class="sxs-lookup"><span data-stu-id="e2de5-129">acr</span></span> | <span data-ttu-id="e2de5-130">Имя реестра контейнеров по умолчанию для `az acr` команд.</span><span class="sxs-lookup"><span data-stu-id="e2de5-130">The default container registry name to use for `az acr` commands.</span></span> |

<span data-ttu-id="e2de5-131">Вот пример того, как можно задать группу ресурсов и расположение по умолчанию для всех команд:</span><span class="sxs-lookup"><span data-stu-id="e2de5-131">As an example, here's how you would set the default resource group and location for all commands.</span></span>

```azurecli-interactive
az configure --defaults location=westus2 group=MyResourceGroup
```

## <a name="cli-configuration-file"></a><span data-ttu-id="e2de5-132">Файл конфигурации CLI</span><span class="sxs-lookup"><span data-stu-id="e2de5-132">CLI configuration file</span></span>

<span data-ttu-id="e2de5-133">Файл конфигурации CLI содержит другие параметры, которые используются для управления поведением CLI.</span><span class="sxs-lookup"><span data-stu-id="e2de5-133">The CLI configuration file contains other settings that are used for managing CLI behavior.</span></span> <span data-ttu-id="e2de5-134">Файл конфигурации расположен здесь: `$AZURE_CONFIG_DIR/config`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-134">The configuration file itself is located at `$AZURE_CONFIG_DIR/config`.</span></span> <span data-ttu-id="e2de5-135">По умолчанию для `AZURE_CONFIG_DIR` устанавливается значение `$HOME/.azure` в Linux и macOS и `%USERPROFILE%\.azure` в Windows.</span><span class="sxs-lookup"><span data-stu-id="e2de5-135">The default value of `AZURE_CONFIG_DIR` is `$HOME/.azure` on Linux and macOS, and `%USERPROFILE%\.azure` on Windows.</span></span>

<span data-ttu-id="e2de5-136">Файлы конфигурации записываются в формате INI.</span><span class="sxs-lookup"><span data-stu-id="e2de5-136">Configuration files are written in the INI file format.</span></span> <span data-ttu-id="e2de5-137">Формат файла определяется заголовками разделов, за которыми следует список пар "ключ-значение".</span><span class="sxs-lookup"><span data-stu-id="e2de5-137">This file format is defined by section headers, followed by a list of key-value entries.</span></span>

* <span data-ttu-id="e2de5-138">Заголовки разделов указываются следующим образом: `[section-name]`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-138">Section headers are written as `[section-name]`.</span></span> <span data-ttu-id="e2de5-139">В именах разделов учитывается регистр.</span><span class="sxs-lookup"><span data-stu-id="e2de5-139">Section names are case-sensitive.</span></span>
* <span data-ttu-id="e2de5-140">Параметры записываются следующим образом: `key=value`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-140">Entries are written as `key=value`.</span></span> <span data-ttu-id="e2de5-141">В именах ключей регистр не учитывается.</span><span class="sxs-lookup"><span data-stu-id="e2de5-141">Key names are not case-sensitive.</span></span>
* <span data-ttu-id="e2de5-142">Комментарии — это любая строка, начинающаяся с `#` или `;`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-142">Comments are any line that begins with a `#` or `;`.</span></span> <span data-ttu-id="e2de5-143">Встроенные комментарии не допускаются.</span><span class="sxs-lookup"><span data-stu-id="e2de5-143">Inline comments are not allowed.</span></span>

<span data-ttu-id="e2de5-144">Логические операторы не зависят от регистра и представлены следующими значениями:</span><span class="sxs-lookup"><span data-stu-id="e2de5-144">Booleans are case-insensitive, and are represented by the following values.</span></span>

* <span data-ttu-id="e2de5-145">__истина__: 1, yes, true, on;</span><span class="sxs-lookup"><span data-stu-id="e2de5-145">__True__: 1, yes, true, on</span></span>
* <span data-ttu-id="e2de5-146">__ложь__: 0, no, false, off.</span><span class="sxs-lookup"><span data-stu-id="e2de5-146">__False__: 0, no, false, off</span></span>

<span data-ttu-id="e2de5-147">Ниже приведен пример файла конфигурации CLI, который отключает все запросы на подтверждение и настраивает для ведения журнала папку `/var/log/azure`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-147">Here's an example of a CLI configuration file that disables any confirmation prompts and sets up logging to the `/var/log/azure` directory.</span></span>

```ini
[core]
disable_confirm_prompt=Yes

[logging]
enable_log_file=yes
log_dir=/var/log/azure
```

<span data-ttu-id="e2de5-148">Сведения обо всех доступных значениях параметров конфигурации и их описание см. в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="e2de5-148">See the next section for details on all of the available configuration values and what they mean.</span></span> <span data-ttu-id="e2de5-149">Дополнительные сведения о формате INI см. в [документации Python по файлам INI](https://docs.python.org/3/library/configparser.html#supported-ini-file-structure).</span><span class="sxs-lookup"><span data-stu-id="e2de5-149">For the full details on the INI file format, see the [Python documentation on INI](https://docs.python.org/3/library/configparser.html#supported-ini-file-structure).</span></span>

## <a name="cli-configuration-values-and-environment-variables"></a><span data-ttu-id="e2de5-150">Переменные среды и значения конфигурации CLI</span><span class="sxs-lookup"><span data-stu-id="e2de5-150">CLI configuration values and environment variables</span></span>

<span data-ttu-id="e2de5-151">Следующая таблица содержит все разделы и имена параметров, которые могут быть включены в файл конфигурации.</span><span class="sxs-lookup"><span data-stu-id="e2de5-151">The following table contains all of the sections and option names that can be placed in a configuration file.</span></span> <span data-ttu-id="e2de5-152">Соответствующие переменные среды имеют формат `AZURE_{section}_{name}` и записываются прописными.</span><span class="sxs-lookup"><span data-stu-id="e2de5-152">Their corresponding environment variables are set as `AZURE_{section}_{name}`, in all caps.</span></span> <span data-ttu-id="e2de5-153">Например параметр по умолчанию `storage_account` для `batchai` указывается в виде переменной `AZURE_BATCHAI_STORAGE_ACCOUNT`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-153">For example, the `storage_account` default for `batchai` is set in the `AZURE_BATCHAI_STORAGE_ACCOUNT` variable.</span></span>

<span data-ttu-id="e2de5-154">Если указать значение по умолчанию, любая команда больше не будет требовать этот аргумент.</span><span class="sxs-lookup"><span data-stu-id="e2de5-154">When you provide a default value, that argument is no longer required by any command.</span></span> <span data-ttu-id="e2de5-155">Вместо этого используется значение по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e2de5-155">Instead, the default value is used.</span></span>

| <span data-ttu-id="e2de5-156">Раздел</span><span class="sxs-lookup"><span data-stu-id="e2de5-156">Section</span></span> | <span data-ttu-id="e2de5-157">ИМЯ</span><span class="sxs-lookup"><span data-stu-id="e2de5-157">Name</span></span>      | <span data-ttu-id="e2de5-158">type</span><span class="sxs-lookup"><span data-stu-id="e2de5-158">Type</span></span> | <span data-ttu-id="e2de5-159">ОПИСАНИЕ</span><span class="sxs-lookup"><span data-stu-id="e2de5-159">Description</span></span>|
|---------|-----------|------|------------|
| <span data-ttu-id="e2de5-160">__core__</span><span class="sxs-lookup"><span data-stu-id="e2de5-160">__core__</span></span> | <span data-ttu-id="e2de5-161">output</span><span class="sxs-lookup"><span data-stu-id="e2de5-161">output</span></span> | <span data-ttu-id="e2de5-162">строка</span><span class="sxs-lookup"><span data-stu-id="e2de5-162">string</span></span> | <span data-ttu-id="e2de5-163">Формат вывода по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="e2de5-163">The default output format.</span></span> <span data-ttu-id="e2de5-164">Может иметь значение `json`, `jsonc`, `tsv` или `table`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-164">Can be one of `json`, `jsonc`, `tsv`, or `table`.</span></span> |
| | <span data-ttu-id="e2de5-165">disable\_confirm\_prompt</span><span class="sxs-lookup"><span data-stu-id="e2de5-165">disable\_confirm\_prompt</span></span> | <span data-ttu-id="e2de5-166">Логическое</span><span class="sxs-lookup"><span data-stu-id="e2de5-166">boolean</span></span> | <span data-ttu-id="e2de5-167">Включает и отключает запросы на подтверждение.</span><span class="sxs-lookup"><span data-stu-id="e2de5-167">Turn confirmation prompts on/off.</span></span> |
| | <span data-ttu-id="e2de5-168">collect\_telemetry</span><span class="sxs-lookup"><span data-stu-id="e2de5-168">collect\_telemetry</span></span> | <span data-ttu-id="e2de5-169">Логическое</span><span class="sxs-lookup"><span data-stu-id="e2de5-169">boolean</span></span> | <span data-ttu-id="e2de5-170">Разрешает корпорации Майкрософт собирать анонимные данные об использовании CLI.</span><span class="sxs-lookup"><span data-stu-id="e2de5-170">Allow Microsoft to collect anonymous data on the usage of the CLI.</span></span> <span data-ttu-id="e2de5-171">Сведения о конфиденциальности см. в описании [условий использования Azure CLI 2.0](https://aka.ms/AzureCliLegal).</span><span class="sxs-lookup"><span data-stu-id="e2de5-171">For privacy information, see the [Azure CLI 2.0 Terms of Use](https://aka.ms/AzureCliLegal).</span></span> |
| <span data-ttu-id="e2de5-172">__logging__</span><span class="sxs-lookup"><span data-stu-id="e2de5-172">__logging__</span></span> | <span data-ttu-id="e2de5-173">enable\_log\_file</span><span class="sxs-lookup"><span data-stu-id="e2de5-173">enable\_log\_file</span></span> | <span data-ttu-id="e2de5-174">Логическое</span><span class="sxs-lookup"><span data-stu-id="e2de5-174">boolean</span></span> | <span data-ttu-id="e2de5-175">Включение и отключение ведения журнала.</span><span class="sxs-lookup"><span data-stu-id="e2de5-175">Turn logging on/off.</span></span> |
| | <span data-ttu-id="e2de5-176">log\_dir</span><span class="sxs-lookup"><span data-stu-id="e2de5-176">log\_dir</span></span> | <span data-ttu-id="e2de5-177">строка</span><span class="sxs-lookup"><span data-stu-id="e2de5-177">string</span></span> | <span data-ttu-id="e2de5-178">Каталог для записи журналов.</span><span class="sxs-lookup"><span data-stu-id="e2de5-178">The directory to write logs to.</span></span> <span data-ttu-id="e2de5-179">По умолчанию это значение равно `${AZURE_CONFIG_DIR}/logs`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-179">By default this value is `${AZURE_CONFIG_DIR}/logs`.</span></span> |
| <span data-ttu-id="e2de5-180">__storage__</span><span class="sxs-lookup"><span data-stu-id="e2de5-180">__storage__</span></span> | <span data-ttu-id="e2de5-181">connection\_string</span><span class="sxs-lookup"><span data-stu-id="e2de5-181">connection\_string</span></span> | <span data-ttu-id="e2de5-182">строка</span><span class="sxs-lookup"><span data-stu-id="e2de5-182">string</span></span> | <span data-ttu-id="e2de5-183">Строка подключения по умолчанию для команд `az storage`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-183">The default connection string to use for `az storage` commands.</span></span> |
| | <span data-ttu-id="e2de5-184">учетная запись</span><span class="sxs-lookup"><span data-stu-id="e2de5-184">account</span></span> | <span data-ttu-id="e2de5-185">строка</span><span class="sxs-lookup"><span data-stu-id="e2de5-185">string</span></span> | <span data-ttu-id="e2de5-186">Имя учетной записи по умолчанию для команд `az storage`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-186">The default account name to use for `az storage` commands.</span></span> |
| | <span data-ttu-id="e2de5-187">key</span><span class="sxs-lookup"><span data-stu-id="e2de5-187">key</span></span> | <span data-ttu-id="e2de5-188">строка</span><span class="sxs-lookup"><span data-stu-id="e2de5-188">string</span></span> | <span data-ttu-id="e2de5-189">Ключ учетной записи по умолчанию для команд `az storage`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-189">The default account key to use for `az storage` commands.</span></span> |
| | <span data-ttu-id="e2de5-190">sas\_token</span><span class="sxs-lookup"><span data-stu-id="e2de5-190">sas\_token</span></span> | <span data-ttu-id="e2de5-191">строка</span><span class="sxs-lookup"><span data-stu-id="e2de5-191">string</span></span> | <span data-ttu-id="e2de5-192">Токен SAS по умолчанию для команд `az storage`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-192">The default SAS token to use for `az storage` commands.</span></span> |
| <span data-ttu-id="e2de5-193">__batchai__</span><span class="sxs-lookup"><span data-stu-id="e2de5-193">__batchai__</span></span> | <span data-ttu-id="e2de5-194">storage\_account</span><span class="sxs-lookup"><span data-stu-id="e2de5-194">storage\_account</span></span> | <span data-ttu-id="e2de5-195">строка</span><span class="sxs-lookup"><span data-stu-id="e2de5-195">string</span></span> | <span data-ttu-id="e2de5-196">Учетная запись хранения по умолчанию для команд `az batchai`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-196">The default storage account to use for `az batchai` commands.</span></span> |
| | <span data-ttu-id="e2de5-197">storage\_key</span><span class="sxs-lookup"><span data-stu-id="e2de5-197">storage\_key</span></span> | <span data-ttu-id="e2de5-198">строка</span><span class="sxs-lookup"><span data-stu-id="e2de5-198">string</span></span> | <span data-ttu-id="e2de5-199">Ключ к хранилищу данных по умолчанию для команд `az batchai`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-199">The default storage key to use for `az batchai` commands.</span></span> |
| <span data-ttu-id="e2de5-200">__batch__</span><span class="sxs-lookup"><span data-stu-id="e2de5-200">__batch__</span></span> | <span data-ttu-id="e2de5-201">учетная запись</span><span class="sxs-lookup"><span data-stu-id="e2de5-201">account</span></span> | <span data-ttu-id="e2de5-202">строка</span><span class="sxs-lookup"><span data-stu-id="e2de5-202">string</span></span> | <span data-ttu-id="e2de5-203">Учетная запись пакетной службы по умолчанию для команд `az batch`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-203">The default Azure Batch account name to use for `az batch` commands.</span></span> |
| | <span data-ttu-id="e2de5-204">access\_key</span><span class="sxs-lookup"><span data-stu-id="e2de5-204">access\_key</span></span> | <span data-ttu-id="e2de5-205">строка</span><span class="sxs-lookup"><span data-stu-id="e2de5-205">string</span></span> | <span data-ttu-id="e2de5-206">Ключ доступа по умолчанию для команд `az batch`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-206">The default access key to use for `az batch` commands.</span></span> <span data-ttu-id="e2de5-207">Используется только с авторизацией `aad`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-207">Only used with `aad` authorization.</span></span> |
| | <span data-ttu-id="e2de5-208">endpoint</span><span class="sxs-lookup"><span data-stu-id="e2de5-208">endpoint</span></span> | <span data-ttu-id="e2de5-209">строка</span><span class="sxs-lookup"><span data-stu-id="e2de5-209">string</span></span> | <span data-ttu-id="e2de5-210">Конечная точка по умолчанию для подключения для команд `az batch`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-210">The default endpoint to connect to for `az batch` commands.</span></span> |
| | <span data-ttu-id="e2de5-211">auth\_mode</span><span class="sxs-lookup"><span data-stu-id="e2de5-211">auth\_mode</span></span> | <span data-ttu-id="e2de5-212">строка</span><span class="sxs-lookup"><span data-stu-id="e2de5-212">string</span></span> | <span data-ttu-id="e2de5-213">Режим авторизации для команд `az batch`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-213">The authorization mode to use for `az batch` commands.</span></span> <span data-ttu-id="e2de5-214">Может иметь значение `shared_key` или `aad`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-214">Can be `shared_key` or `aad`.</span></span> |

> [!NOTE]
> <span data-ttu-id="e2de5-215">В файле конфигурации могут быть и другие значения, но управление ими осуществляется непосредственно с помощью команд CLI, включая `az configure`.</span><span class="sxs-lookup"><span data-stu-id="e2de5-215">You may see other values in your configuration file, but these are managed directly through CLI commands, including `az configure`.</span></span> <span data-ttu-id="e2de5-216">Самостоятельно изменить можно только значения, перечисленные в таблице выше.</span><span class="sxs-lookup"><span data-stu-id="e2de5-216">The ones listed in the table above are the only values you should change yourself.</span></span>