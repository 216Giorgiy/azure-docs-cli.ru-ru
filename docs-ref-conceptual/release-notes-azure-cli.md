---
title: "Заметки о выпуске Azure CLI 2.0"
description: "Узнайте о последних обновлениях в Azure CLI 2.0"
keywords: "Azure CLI 2.0, заметки о выпуске"
author: rloutlaw
ms.author: routlaw
manager: douge
ms.date: 04/03/2017
ms.topic: article
ms.prod: azure
ms.technology: azure
ms.devlang: azurecli
ms.service: multiple
ms.assetid: ce0428f7-0a59-4e72-9237-d907b171af51
ms.openlocfilehash: 3bd4b9c059da3b841fc0757a11bc7ce78ec64b08
ms.sourcegitcommit: 66d997a5afcf32143a4d4817ec1608cbdf58a59f
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/11/2017
---
# <a name="azure-cli-20-release-notes"></a>Заметки о выпуске Azure CLI 2.0

## <a name="may-10-2017"></a>10 мая 2017 г.

Версия 2.0.6

* Модуль documentdb переименован в cosmosdb.
* Добавлена реляционная СУБД (MySQL, Postgres).
* Добавлены модули Data Lake Store и Data Lake Analytics.
* Добавлен модуль Cognitive Services.
* Добавлен модуль Service Fabric.
* Добавлен модуль Interactive (az-shell переименован).
* Добавлена поддержка команд CDN.
* Удален модуль Container.
* Добавлена команда az -v для az --version ([№ 2926](https://github.com/Azure/azure-cli/issues/2926)).
* Повышена производительность загрузки пакетов и выполнения команд ([№ 2819](https://github.com/Azure/azure-cli/issues/2819)).

```
azure-cli (2.0.6)

acr (2.0.4)
acs (2.0.6)
appservice (0.1.6)
batch (2.0.4)
cdn (0.0.2)
cloud (2.0.2)
cognitiveservices (0.1.2)
command-modules-nspkg (2.0.0)
component (2.0.4)
configure (2.0.6)
core (2.0.6)
cosmosdb (0.1.6)
dla (0.0.6)
dls (0.0.6)
feedback (2.0.2)
find (0.2.2)
interactive (0.3.1)
iot (0.1.5)
keyvault (2.0.4)
lab (0.0.4)
monitor (0.0.4)
network (2.0.6)
nspkg (3.0.0)
profile (2.0.4)
rdbms (0.0.1)
redis (0.2.3)
resource (2.0.6)
role (2.0.4)
sf (1.0.1)
sql (2.0.3)
storage (2.0.6)
vm (2.0.6)
```

### <a name="core"></a>Core

* Ядро: запись исключений, порожденных незарегистрированным поставщиком, и его автоматическая регистрация.   
* Производительность: сохранение кэша маркеров библиотеки ADAL в памяти до завершения работы процесса ([№ 2603](https://github.com/Azure/azure-cli/issues/2603)).
* Исправление байтов, возвращаемых из шестнадцатеричных отпечатков -o tsv ([№ 3053](https://github.com/Azure/azure-cli/issues/3053)).
* Улучшенное скачивание сертификатов Key Vault и интеграция субъектов-служб AAD ([№ 3003](https://github.com/Azure/azure-cli/issues/3003)).
* Добавление расположения Python в az -version ([№ 2986](https://github.com/Azure/azure-cli/issues/2986)).
* Вход: поддержка входа при отсутствии подписок ([№ 2929](https://github.com/Azure/azure-cli/issues/2929)).
* Ядро: устранен сбой при двукратном входе с помощью субъекта-службы ([№ 2800](https://github.com/Azure/azure-cli/issues/2800)).
* Ядро: возможность настроить путь к файлу accessTokens.json с помощью env var ([№ 2605](https://github.com/Azure/azure-cli/issues/2605)).
* Ядро: возможность применять настроенные параметры по умолчанию к необязательным аргументам ([№ 2703](https://github.com/Azure/azure-cli/issues/2703)).
* Ядро: повышение производительности.
* Ядро: настаиваемые сертификаты ЦС — поддержка настройки переменной среды REQUESTS_CA_BUNDLE.
* Ядро: облачная конфигурация — использование конечной точки Resource Manager, если не задана конечная точка управления.

### <a name="acs"></a>ACS

* Исправление: теперь значение счетчика баз данных master и агентов — целое число, а не строка.
* Предоставлены команды az acs create --no-wait и az acs wait для асинхронного создания.
* Предоставлена команда az acs create --validate для пробного создания.
* Удален профиль Windows перед вызовом метода PUT для команды scale ([№ 2755](https://github.com/Azure/azure-cli/issues/2755)).

### <a name="appservice"></a>AppService

* Приложение-функция: добавлена полная поддержка приложений-функций, включая создание, отображение, вывод списка, удаление, настройку имени узла, настройку протокола SSL и т. д.
* Добавлены службы Team Services (VSTS) в качестве параметра непрерывной доставки в конфигурации веб-системы управления версиями службы приложений.
* Создана команда az webapp, заменяющая команду az appservice web (для обеспечения обратной совместимости команда az appservice web будет оставлена еще в двух выпусках).
* Предоставлены аргументы для настройки развертывания и стеков времени выполнения при создании веб-приложения.
* Предоставлена команда webapp list-runtimes.
* Поддержка настройки строк подключения ([№ 2647](https://github.com/Azure/azure-cli/issues/2647)).
* Поддержка переключения слотов с предварительным просмотром.
* Устранены ошибки из команд службы приложений ([№ 2948](https://github.com/Azure/azure-cli/issues/2948)).
* Использование группы ресурсов в плане служб приложений для операций с сертификатами ([№ 2750](https://github.com/Azure/azure-cli/issues/2750)).

### <a name="cosmosdb"></a>Cosmos DB

* Модуль documentdb переименован в cosmosdb.
* Добавлена поддержка интерфейсов API уровня данных DocumentDB: управление базами данных и коллекциями.
* Добавлена поддержка включения автоматической отработки отказа для учетных записей базы данных.
* Добавлена поддержка нового параметра ConsistentPrefix политики согласованности.

### <a name="data-lake-analytics"></a>Аналитика озера данных

* Исправлена ошибка, из-за которой фильтрация списков заданий по результату и состоянию вызывала сбой.
* Добавлена поддержка нового типа элемента каталога — пакета. Для доступа к нему используется `az dla catalog package`.
* Появилась возможность вывести список следующих элементов каталога из базы данных (указание схемы не требуется):

  * Таблица
  * функция с табличным значением;
  * Просмотр
  * статистика таблицы. Их можно также вывести с помощью схемы, но без указания имени таблицы.

### <a name="data-lake-store"></a>Хранилище озера данных

* Обновлена версия пакета SDK базовой файловой системы, что обеспечивает лучшую поддержку сценариев регулирования на стороне сервера.
* Повышена производительность загрузки пакетов и выполнения команд ([№ 2819](https://github.com/Azure/azure-cli/issues/2819)).
* Отсутствовала справка для команды access show. Теперь она добавлена. ([№ 2743](https://github.com/Azure/azure-cli/issues/2743))

### <a name="find"></a>Поиск

* Улучшены результаты поиска и разрешено управление версиями индекса поиска.

### <a name="keyvault"></a>Хранилище ключей

* BC: в команде `az keyvault certificate download` параметр -e со строкового или двоичного значения изменен на PEM или DER, чтобы лучше представить параметры.
* BC: из команды `keyvault certificate create` удалены параметры --expires и --not-before, так как они не поддерживаются службой.
* В команду `keyvault certificate create` добавлен параметр --validity для выборочного переопределения значение в параметре --policy.
* Исправлена ошибка в команде `keyvault certificate get-default-policy`, в которой были доступны параметры expires и not_before, а параметр validity_in_months — нет.
* Добавлено исправление для модуля keyvault для импорта PEM- и PFX-файлов ([№ 2754](https://github.com/Azure/azure-cli/issues/2754)).

### <a name="lab"></a>Лаборатория

* Добавлены команды создания, отображения, удаления и вывода списка для среды в лаборатории.
* Добавлены команды отображения и вывода списка для просмотра шаблонов ARM в лаборатории.
* В команду `az lab vm list` добавлен флаг --environment для фильтрации виртуальных машин по среде в лаборатории.
* Добавлена вспомогательная команда `az lab formula export-artifacts` для экспорта шаблона артефакта в формуле лаборатории.
* Добавлены команды для управления секретами в лаборатории.

### <a name="monitor"></a>Монитор

* Исправление ошибки: моделирование `--actions` в `az alert-rules create` для использования строки в формате JSON ([№ 3009](https://github.com/Azure/azure-cli/issues/3009)).
* Исправление ошибки: при создании параметров диагностики не принимались журналы и метрики из команды show ([№ 2913](https://github.com/Azure/azure-cli/issues/2913)).

### <a name="network"></a>Сеть

* Добавлена команда `network watcher test-connectivity`.
* Добавлена поддержка параметра `--filters` в команде `network watcher packet-capture create`.
* Добавлена поддержка фильтрации подключений шлюза приложений.
* Добавлена поддержка конфигурации набора правил WAF шлюза приложений.
* Добавлена поддержка правил и фильтров маршрутов ExpressRoute.
* Добавлена поддержка географической маршрутизации диспетчера трафика.
* Добавлена поддержка селекторов трафика на основе политик для VPN-подключений.
* Добавлена поддержка политик IPSec для VPN-подключений.
* Исправлена ошибка `vpn-connection create`, возникавшая при использовании параметра `--no-wait` или `--validate`.
* Добавлена поддержка шлюзов виртуальной сети "активный-активный".
* Удалены значения NULL из выходных данных команды `network vpn-connection list/show`.
* BC: исправлена ошибка в выходных данных `vpn-connection create`. 
* Исправлена ошибка, приводившая к неправильному анализу аргумента --key-length команды vpn-connection create.
* Исправлена ошибка в `dns zone import`, из-за которой записи не импортировались правильно.
* Исправлена ошибка, из-за которой команда `traffic-manager endpoint update` не работала.
* Добавлены команды предварительного просмотра для Наблюдателя за сетями.

### <a name="profile"></a>Профиль

* Поддержка входа при отсутствии подписок ([№ 2560](https://github.com/Azure/azure-cli/issues/2560)).
* Поддержка сокращенных имен параметров в команде az account set --subscription ([№ 2980](https://github.com/Azure/azure-cli/issues/2980)).

### <a name="redis"></a>Redis

* Добавлена команда update, которая также добавляет возможность масштабирования для кэша Redis.
* Команда update-settings объявляется нерекомендуемой.

### <a name="resource"></a>Ресурс

* Добавлены команды определения managedapp и managedapp ([№ 2985](https://github.com/Azure/azure-cli/issues/2985)).
* Поддержка команд provider operation ([№ 2908](https://github.com/Azure/azure-cli/issues/2908)).
* Поддержка создания универсального ресурса ([№ 2606](https://github.com/Azure/azure-cli/issues/2606)).
* Исправлен анализ ресурсов и поиск версии API. ([№ 2781](https://github.com/Azure/azure-cli/issues/2781))
* Добавлены документы для команды az lock update. ([№ 2702](https://github.com/Azure/azure-cli/issues/2702))
* Исправлена ошибка, возникавшая при попытке вывести список ресурсов группы, которая не существует. ([№ 2769](https://github.com/Azure/azure-cli/issues/2769))
* [Вычисления.] Устранены проблемы с масштабируемым набором виртуальных машин и обновлением группы доступности виртуальных машин. ([№ 2773](https://github.com/Azure/azure-cli/issues/2773))
* Исправлена блокировка создания и удаления, возникающая, если параметр parent-resource-path не указан ([№ 2742](https://github.com/Azure/azure-cli/issues/2742)).

### <a name="role"></a>Роль

* create-for-rbac: гарантируется, что дата завершения работы поставщика служб не может превышать срок действия сертификата ([№ 2989](https://github.com/Azure/azure-cli/issues/2989)).
* RBAC: добавлена полная поддержка команды ad group ([№ 2016](https://github.com/Azure/azure-cli/issues/2016)).
* Роль: устранены проблемы при обновлении определения роли ([№ 2745](https://github.com/Azure/azure-cli/issues/2745)).
* create-for-rbac: обеспечен выбор введенного пользователем пароля.

### <a name="sql"></a>SQL

* Добавлены команды az sql server list-usages и az sql db list-usages.
* SQL: возможность прямого подключения к поставщику ресурса ([№ 2832](https://github.com/Azure/azure-cli/issues/2832)).

### <a name="storage"></a>Хранилище

* Добавлено расположение по умолчанию группы ресурсов для `storage account create`.
* Добавлена поддержка добавочного копирования больших двоичных объектов.
* Добавлена поддержка передачи больших блочных BLOB-объектов.
* Размер блока изменяется и составляет 100 МБ, если передается файл, чей размер превышает 200 ГБ.

### <a name="vm"></a>ВМ

* avail-set: число доменов обновления и доменов сбоя сделано необязательным.

  Примечание. Команды виртуальной машины в независимых облаках: избегайте использовать функции, связанные с Управляемыми дисками, включая следующие:
  1. az disk/snapshot/image
  2. az vm/vmss disk
  3. В команде az vm/vmss create используйте параметр --use-unmanaged-disk, чтобы избежать использования Управляемых дисков. Другие команды должны работать.
* vm/vmss: улучшен текст предупреждения при создании пары ключей SSH.
* vm/vmss: поддержка создания из образа Marketplace, для которого требуются сведения о плане ([№ 1209](https://github.com/Azure/azure-cli/issues/1209)).


## <a name="april-3-2017"></a>3 апреля 2017 г.

Версия 2.0.2

В этом выпуске мы добавили компоненты ACR, Batch, KeyVault и SQL.

```
azure-cli (2.0.2)
 
acr (2.0.0)
acs (2.0.2)
appservice (0.1.2)
batch (2.0.0)
cloud (2.0.0)
component (2.0.0)
configure (2.0.2)
container (0.1.2)
core (2.0.2)
documentdb (0.1.2)
feedback (2.0.0)
find (0.0.1b1)
iot (0.1.2)
keyvault (2.0.0)
lab (0.0.1)
monitor (0.0.1)
network (2.0.2)
nspkg (2.0.0)
profile (2.0.2)
redis (0.1.1b3)
resource (2.0.2)
role (2.0.1)
sql (2.0.0)
storage (2.0.2)
vm (2.0.2)
```

### <a name="core"></a>Core

* Модули Acr, Lab, Monitor и Find добавлены в список по умолчанию.
* Вход: пропуск неправильного клиента ([#2634](https://github.com/Azure/azure-cli/pull/2634)).
* Вход: для подписки по умолчанию задано значение 1 с состоянием "Включено" ([#2575](https://github.com/Azure/azure-cli/pull/2575)).
* Добавлена поддержка команд wait и --no-wait для дополнительных команд ([#2524](https://github.com/Azure/azure-cli/pull/2524)).
* Core: поддержка входа при помощи субъекта-службы с использованием сертификата ([#2457](https://github.com/Azure/azure-cli/pull/2457)).
* Добавлен запрос для отсутствующих параметров шаблона ([#2364](https://github.com/Azure/azure-cli/pull/2364)).
* Добавлена поддержка установки параметров по умолчанию для таких распространенных аргументов, как группа ресурсов по умолчанию, веб-страница по умолчанию, виртуальная машина по умолчанию.
* Добавлена поддержка входа на конкретный клиент.
 
### <a name="acs"></a>ACS

* [ACS] Добавлена поддержка настройки кластера ACS по умолчанию ([#2554](https://github.com/Azure/azure-cli/pull/2554)).
* Добавлена поддержка запроса пароля для ключа SSH ([#2044](https://github.com/Azure/azure-cli/pull/2044)).
* Добавлена поддержка кластеров Windows ([#2211](https://github.com/Azure/azure-cli/pull/2211)).
* Добавлена возможность изменения роли "Владелец" на роль "Участник" ([#2321](https://github.com/Azure/azure-cli/pull/2321)).
 
### <a name="appservice"></a>AppService

* AppService: добавлена поддержка получения внешнего IP-адреса, используемого для записей DNS типа A ([#2627](https://github.com/Azure/azure-cli/pull/2627)).
* AppService: добавлена поддержка привязки групповых сертификатов ([#2625](https://github.com/Azure/azure-cli/pull/2625)).
* AppService: добавлена поддержка профилей для публикации списком ([#2504](https://github.com/Azure/azure-cli/pull/2504)).
* AppService: добавлен триггер синхронизации с системой управления версиями после настройки ([#2326](https://github.com/Azure/azure-cli/pull/2326)).
 
### <a name="datalake"></a>DataLake

* Первоначальный выпуск модуля Data Lake Analytics.
* Первоначальный выпуск модуля Data Lake Store.
 
### <a name="docuemntdb"></a>DocumentDB

* DocumentDB: добавлена поддержка для получения списка строк подключения ([#2580](https://github.com/Azure/azure-cli/pull/2580)).

### <a name="vm"></a>ВМ

* [Вычисления] Добавлена поддержка AppGateway для создания масштабируемого набора виртуальных машин ([#2570](https://github.com/Azure/azure-cli/pull/2570)).
* [ВМ и VMSS] Улучшена поддержка кэширования диска ([#2522](https://github.com/Azure/azure-cli/pull/2522)).
* ВМ и VMSS: внедрена логика проверки учетных данных, используемая на портале ([#2537](https://github.com/Azure/azure-cli/pull/2537)).
* Добавлена поддержка команд wait и --no-wait ([#2524](https://github.com/Azure/azure-cli/pull/2524)).
* Масштабируемый набор виртуальных машин: добавлена поддержка * для представления экземпляров на виртуальных машинах в виде списка ([#2467](https://github.com/Azure/azure-cli/pull/2467)).
* Добавлена команда --secrets для виртуальных машин и масштабируемого набора виртуальных машин ([#2212}(https://github.com/Azure/azure-cli/pull/2212)).
* Добавлено разрешение на создание виртуальных машин на основе специализированного образа VHD ([#2256](https://github.com/Azure/azure-cli/pull/2256)).

## <a name="february-27-2017"></a>27 февраля 2017 г.

Версия 2.0.0

Этот первый общедоступный выпуск Azure CLI 2.0.
Общедоступными являются такие командные модули:
- служба контейнеров (ACS);
- вычисления (в том числе Resource Manager, виртуальная машина, масштабируемые наборы виртуальных машин, управляемые диски);
- Сеть
- Хранилище

Эти командные модули могут использоваться в рабочих средах и поддерживаются стандартными соглашениями Майкрософт об уровне обслуживания.
Вы можете отправлять запросы непосредственно в службу технической поддержки Майкрософт или добавлять описание проблем в наш [список на сайте GitHub](https://github.com/azure/azure-cli/issues/).
Вы можете задавать вопросы на сайте [StackOverflow, используя тег azure-cli](http://stackoverflow.com/questions/tagged/azure-cli), или обращаться к группе разработчиков по адресу электронной почты [azfeedback@microsoft.com](mailto:azfeedback@microsoft.com).
Можно отправлять отзывы из командной строки с помощью команды `az feedback`.

Команды в этих модулях стабильны, и предполагается, что в следующих выпусках этой версии Azure CLI их синтаксис не будет меняться.

Чтобы проверить версию интерфейса командной строки, используйте `az --version`.
В выходных данных указана версия самого интерфейса командной строки (2.0.0 в этом выпуске), версии отдельных командных модулей и используемые вами версии Python и GCC.

```
azure-cli (2.0.0)

acs (2.0.0)
appservice (0.1.1b5)
batch (0.1.1b4)
cloud (2.0.0)
component (2.0.0)
configure (2.0.0)
container (0.1.1b4)
core (2.0.0)
documentdb (0.1.1b2)
feedback (2.0.0)
iot (0.1.1b3)
keyvault (0.1.1b5)
network (2.0.0)
nspkg (2.0.0)
profile (2.0.0)
redis (0.1.1b3)
resource (2.0.0)
role (2.0.0)
sql (0.1.1b5)
storage (2.0.0)
vm (2.0.0)
 
Python (Darwin) 2.7.10 (default, Jul 30 2016, 19:40:32) 
[GCC 4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.34)]
```

> [!Note]
> Некоторые командные модули имеют постфикс b*n* или rc*n*.
> Эти командные модули все еще находятся на стадии предварительной версии и станут общедоступными в будущем.

У нас также есть предварительные ежедневные сборки интерфейса командной строки.
Дополнительные сведения см. в инструкциях по [получению ежедневных сборок](https://github.com/Azure/azure-cli#nightly-builds), а также в инструкциях по [настройке среды разработки и участии в написании кода](https://github.com/Azure/azure-cli#developer-setup).

О проблемах с предварительными ежедневными сборками можно сообщить несколькими способами:
- добавив информацию о проблемах в наш [список на сайте GitHub](https://github.com/azure/azure-cli/issues/);
- обратившись к специалистам группы разработчиков продукта по адресу электронной почты [azfeedback@microsoft.com](mailto:azfeedback@microsoft.com);
- отправив отзыв из командной строки с помощью команды `az feedback`.

